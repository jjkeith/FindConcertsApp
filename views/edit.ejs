<div class="col-sm-4 col-sm-offset-4">

    <h1>Edit Account</h1>
    <form action="/profile/:id" method="patch">
        <div class="form-group">
            <label>Username</label>
            <input type="text" class="form-control username" name="username" >
        </div>
        <div class="form-group">
            <label>Zipcode</label>
            <input type="number" class="form-control zipcode" name="zipcode">
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="text" class="form-control email" name="email">
            <%# <label for="email">Email</label>%>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control password" name="password">
        </div>

        <button id="update-user" class="btn-large" type="button" name="action">Update Profile<i class="material-icons right">update</i></button>
    </form>
</div>

<script type="text/javascript">

  var $updateUser = $('#update-user')

  $updateUser.on('click', function(){
  console.log("clicked")
  var user = {
              local: {
                name: $('.username').val(),
                email: $('.zipcode').val(),
                email: $('.email').val(),
                password: $('.password').val()
              }
            }

              $.ajax({
                  url: 'user/<% user.local.id %>',
                  method: 'patch',
                  data: JSON.stringify(user),
                  contentType: 'application/json',
                  success: function(result){
                    window.alert("Your account has been updated.")
                  }
                })
          })
</script>
